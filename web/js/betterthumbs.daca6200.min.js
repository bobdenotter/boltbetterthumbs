$(document).ready(function(){$(".image-container").on("click",".deletebutton",function(e){var n=this.id,t=e.target,i=$('<div class="cp-spinner cp-skeleton"></div><p>Removing Image</p>');$.ajax({type:"POST",url:"/bolt/extend/betterthumbs/files/delete",data:{img:n},beforeSend:function(){$(t).parentsUntil(".image-container").children(".img-container").hide(),$(t).hide(),$(t).parent().append(i)},success:function(){$(t).hide(),$(t).siblings(i).hide(),$(t).before('<p class="removed-success">'+n+" Has been removed from the cache</p>")},error:function(e,n,t){console.log(e),console.log("Details: "+n+"\nError:"+t)}})}),$(".delete-all").on("click",function(e){var n=$(".delete-all").data("all"),t=$('<div class="cp-spinner cp-skeleton"></div><p>Removing All Images</p>'),i=e.target,r=$("#image-grid");$.ajax({type:"POST",url:"/bolt/extend/betterthumbs/files/delete/all",data:{all:n},beforeSend:function(){$(i).parent().append(t),$(i).hide()},success:function(){$(i).hide(),$(i).siblings(t).hide(),$(i).before('<p class="removed-success">All Images Have Been Removed From The Cache</p>'),r.empty(),r.append('<div class="column"><p>No Images In Cache</p></div>')},error:function(e,n,t){console.log(e),console.log("Details: "+n+"\nError:"+t),$(i).parent().append(e.responseText)}})})}),$(document).ready(function(){function e(e){$(e).hide(),$(e).before(r)}function n(e){$(e).show(),$(e).siblings(r).detach()}function t(){for(var e=document.querySelectorAll(".button"),n=0;n<e.length;++n)e[n].setAttribute("disabled","disabled")}function i(){for(var e=document.querySelectorAll(".button"),n=0;n<e.length;++n)e[n].removeAttribute("disabled")}var r=$('<span class="cp-spinner cp-skeleton"></span><p>Creating Images</p>'),a=$(".fieldset");a.on({click:function(e){var n=e.target,t=n.getAttribute("data-bthumb-name"),i=$(n).parent().prev().find(".prime-cache-dropdown").val(),r=$(n).parent().prev().find(".prime-cache-single-input").val(),a=n.getAttribute("data-presets");if(n.classList.contains("prime-config")&&s(n,t,i,"config"),n.classList.contains("prime-presets")&&s(n,t,a,"presets"),n.classList.contains("prime-single")){if(""===r)return $(n).parent().prev().find(".prime-single-error").removeAttr("hidden"),!1;console.log(r),s(n,t,r,"single")}},change:function(e){var n=e.target;e.keyCode||e.which;$(n).hasClass("prime-cache-single-input")&&$(".prime-cache-single-input").length>0&&$(n).parent().next().attr("hidden","hidden")},keypress:function(e){var n=e.target,t=e.keyCode||e.which,i=$(n).parent().parent().next().find("BUTTON"),r=$(n).parent().parent().next().find("BUTTON").data("bthumb-name"),a=$(n).val(),o=$(n).data("presets");if(13===t&&(e.preventDefault(),i.hasClass("prime-config")&&$(n).on("click",s(i,r,a,"config")),$(n).hasClass("prime-presets")&&$(n).on("click",s(".prime-presets",r,o,"presets")),i.hasClass("prime-single"))){if(""===$(n).val())return $(n).parent().next().removeAttr("hidden"),!1;$(n).on("click",s(i,r,a,"single"))}}});var s=function(r,a,s,o){$.ajax({type:"POST",url:"/bolt/extend/betterthumbs/files/prime/do",data:{modType:o,configName:s,image:a},beforeSend:function(){e(r),t()},success:function(){i(),n(r)},error:function(e,n,t){console.log(e),console.log("Details: "+n+"\nError:"+t)}})}});