$(document).ready(function(){$(".image-container").on("click",".deletebutton",function(e){var n=this.id,t=e.target,a=$('<div class="cp-spinner cp-skeleton"></div><p>Removing Image</p>');$.ajax({type:"POST",url:$(this).data("betterthumbs-path"),data:{img:n},beforeSend:function(){$(t).parentsUntil(".image-container").children(".img-container").hide(),$(t).hide(),$(t).parent().append(a)},success:function(){$(t).hide(),$(t).siblings(a).hide(),$(t).before('<p class="removed-success">'+n+" Has been removed from the cache</p>")},error:function(e,n,t){console.log(e),console.log("Details: "+n+"\nError:"+t)}})}),$(".delete-all").on("click",function(e){var n=$(".delete-all").data("all"),t=$('<div class="cp-spinner cp-skeleton"></div><p>Removing All Images</p>'),a=e.target,i=$("#image-grid");$.ajax({type:"POST",url:$(this).data("betterthumbs-path"),data:{all:n},beforeSend:function(){$(a).parent().append(t),$(a).hide()},success:function(){$(a).hide(),$(a).siblings(t).hide(),$(a).before('<p class="removed-success">All Images Have Been Removed From The Cache</p>'),i.empty(),i.append('<div class="column"><p>No Images In Cache</p></div>')},error:function(e,n,t){console.log(e),console.log("Details: "+n+"\nError:"+t),$(a).parent().append(e.responseText)}})})}),$(document).ready(function(){function e(e){$(e).hide(),$(e).before(i)}function n(e){$(e).show(),$(e).siblings(i).detach()}function t(){for(var e=document.querySelectorAll(".button"),n=0;n<e.length;++n)e[n].setAttribute("disabled","disabled")}function a(){for(var e=document.querySelectorAll(".button"),n=0;n<e.length;++n)e[n].removeAttribute("disabled")}var i=$('<span class="cp-spinner cp-skeleton"></span><p>Creating Images</p>');$(".fieldset").on({click:function(e){var n=e.target,t=n.getAttribute("data-bthumb-name"),a=$(n).parent().prev().find(".prime-cache-dropdown").val(),i=$(n).parent().prev().find(".prime-cache-single-input").val(),s=n.getAttribute("data-presets");if(n.classList.contains("prime-config")&&r(n,t,a,"config"),n.classList.contains("prime-presets")&&r(n,t,s,"presets"),n.classList.contains("prime-single")){if(""===i)return $(n).parent().prev().find(".prime-single-error").removeAttr("hidden"),!1;console.log(i),r(n,t,i,"single")}},change:function(e){var n=e.target;e.keyCode||e.which,$(n).hasClass("prime-cache-single-input")&&$(".prime-cache-single-input").length>0&&$(n).parent().next().attr("hidden","hidden")},keypress:function(e){var n=e.target,t=e.keyCode||e.which,a=$(n).parent().parent().next().find("BUTTON"),i=$(n).parent().parent().next().find("BUTTON").data("bthumb-name"),s=$(n).val(),o=$(n).data("presets");if(13===t&&(e.preventDefault(),a.hasClass("prime-config")&&$(n).on("click",r(a,i,s,"config")),$(n).hasClass("prime-presets")&&$(n).on("click",r(".prime-presets",i,o,"presets")),a.hasClass("prime-single"))){if(""===$(n).val())return $(n).parent().next().removeAttr("hidden"),!1;$(n).on("click",r(a,i,s,"single"))}}});var r=function(i,r,s,o){$.ajax({type:"POST",url:$("#boltPath").data("betterthumbs-path"),data:{modType:o,configName:s,image:r},beforeSend:function(){e(i),t()},success:function(){a(),n(i)},error:function(e,n,t){console.log(e),console.log("Details: "+n+"\nError:"+t)}})}});